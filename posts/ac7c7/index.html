<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Python-Markdown学习笔记 - Déjà vu</title><meta name="Description" content="MrChi的博客，记录学过的知识，看过的书，走过的路。"><meta property="og:title" content="Python-Markdown学习笔记" />
<meta property="og:description" content="写在前面 按照日常需求， 应该开启的扩展为： Fenced Code Blocks Tables Sane Lists SmartyPants 建议开启的扩展为： Codehilite Footnotes Meta-Data Table of Contents Python-Markdown简介 Python-Mark" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mrchi.cc/posts/ac7c7/" />
<meta property="og:image" content="https://mrchi.cc/images/avatar.png"/>
<meta property="article:published_time" content="2017-10-29T22:17:36+08:00" />
<meta property="article:modified_time" content="2017-10-29T22:17:36+08:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://mrchi.cc/images/avatar.png"/>

<meta name="twitter:title" content="Python-Markdown学习笔记"/>
<meta name="twitter:description" content="写在前面 按照日常需求， 应该开启的扩展为： Fenced Code Blocks Tables Sane Lists SmartyPants 建议开启的扩展为： Codehilite Footnotes Meta-Data Table of Contents Python-Markdown简介 Python-Mark"/>
<meta name="application-name" content="Déjà vu">
<meta name="apple-mobile-web-app-title" content="Déjà vu"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://mrchi.cc/posts/ac7c7/" /><link rel="prev" href="https://mrchi.cc/posts/38ba7/" /><link rel="next" href="https://mrchi.cc/posts/ea7c7/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.055364f5be272caa092b0e6654c165828707f8ab971e2656383a6d6392bc345e.css" integrity="sha256-BVNk9b4nLKoJKw5mVMFlgocH&#43;KuXHiZWODptY5K8NF4="><link rel="stylesheet" href="/css/style.min.1e2694bed152fa2922dbe909a441838ed693d88b1330f97485bfa8ed78da42df.css" integrity="sha256-HiaUvtFS&#43;iki2&#43;kJpEGDjtaT2IsTMPl0hb&#43;o7XjaQt8="><link rel="stylesheet" href="/lib/fontawesome-free/all.min.876d023d9d10c97941b80c3b03e2a5b94631ff7a4af9cee5604a6a2d39718d84.css" integrity="sha256-h20CPZ0QyXlBuAw7A&#43;KluUYx/3pK&#43;c7lYEpqLTlxjYQ="><link rel="stylesheet" href="/lib/animate/animate.min.3c770e90f98eb21b0c042fafb49755af93306fbaf42e449524f94fae9fc83295.css" integrity="sha256-PHcOkPmOshsMBC&#43;vtJdVr5Mwb7r0LkSVJPlPrp/IMpU="><meta name="google-site-verification" content="d8p7AVyjDaqIEdgF3x_i-xZgbvFTbZ5O6SOBaDj2F9c" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Python-Markdown学习笔记",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/mrchi.cc\/posts\/ac7c7\/"
        },"image": ["https:\/\/mrchi.cc\/images\/Apple-Devices-Preview.png"],"genre": "posts","wordcount":  9797 ,
        "url": "https:\/\/mrchi.cc\/posts\/ac7c7\/","datePublished": "2017-10-29T22:17:36+08:00","dateModified": "2017-10-29T22:17:36+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "MrChi","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/mrchi.cc\/images\/avatar.png",
                    "width":  460 ,
                    "height":  460 
                }},"author": {
                "@type": "Person",
                "name": "Invoker"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Déjà vu"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/avatar.png"
        data-srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x"
        data-sizes="auto"
        alt="/images/avatar.png"
        title="/images/avatar.png" />Déjà vu</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/projects/"> 项目 </a><a class="menu-item" href="https://github.com/mrchi" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Déjà vu"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/avatar.png"
        data-srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x"
        data-sizes="auto"
        alt="/images/avatar.png"
        title="/images/avatar.png" />Déjà vu</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/projects/" title="">项目</a><a class="menu-item" href="https://github.com/mrchi" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Python-Markdown学习笔记</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/mrchi" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Invoker</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/python/"><i class="far fa-folder fa-fw"></i>Python</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2017-10-29">2017-10-29</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 9797 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 20 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#写在前面">写在前面</a></li>
    <li><a href="#python-markdown简介">Python-Markdown简介</a>
      <ul>
        <li><a href="#特性">特性</a></li>
        <li><a href="#差异">差异</a></li>
        <li><a href="#安装">安装</a></li>
      </ul>
    </li>
    <li><a href="#使用参考">使用参考</a>
      <ul>
        <li><a href="#简单的">简单的</a></li>
        <li><a href="#详细的">详细的</a>
          <ul>
            <li><a href="#markdownmarkdown-text--kwargs"><code>markdown.markdown (text [, **kwargs])</code></a></li>
            <li><a href="#markdownmarkdownfromfile-kwargs"><code>markdown.markdownFromFile (**kwargs)</code></a></li>
            <li><a href="#markdownmarkdown-kwargs"><code>markdown.Markdown ([**kwargs])</code></a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#cli命令">CLI命令</a>
      <ul>
        <li><a href="#设置">设置</a></li>
        <li><a href="#使用说明">使用说明</a></li>
        <li><a href="#加载extension">加载extension</a></li>
      </ul>
    </li>
    <li><a href="#官方extensions">官方Extensions</a>
      <ul>
        <li><a href="#extra">Extra</a>
          <ul>
            <li><a href="#abbreviations">Abbreviations</a></li>
            <li><a href="#attribute-lists">Attribute Lists</a>
              <ul>
                <li><a href="#语法">语法</a></li>
                <li><a href="#使用">使用</a></li>
              </ul>
            </li>
            <li><a href="#definition-lists">Definition Lists</a></li>
            <li><a href="#fenced-code-blocks">Fenced Code Blocks</a></li>
            <li><a href="#footnotes">Footnotes</a></li>
            <li><a href="#tables">Tables</a></li>
            <li><a href="#smart_strong">Smart_Strong</a></li>
          </ul>
        </li>
        <li><a href="#admonition">Admonition</a></li>
        <li><a href="#codehilite">CodeHilite</a>
          <ul>
            <li><a href="#安装-1">安装</a></li>
            <li><a href="#配置">配置</a></li>
          </ul>
        </li>
        <li><a href="#headerld">Headerld</a>
          <ul>
            <li><a href="#语法-1">语法</a></li>
            <li><a href="#使用-1">使用</a></li>
            <li><a href="#使用meta-data">使用<code>Meta-data</code></a></li>
          </ul>
        </li>
        <li><a href="#meta-data">Meta-Data</a>
          <ul>
            <li><a href="#syntax">Syntax</a></li>
            <li><a href="#访问meta-data">访问Meta-data</a></li>
            <li><a href="#已兼容的扩展">已兼容的扩展</a></li>
          </ul>
        </li>
        <li><a href="#new-line-to-break">New Line to Break</a></li>
        <li><a href="#sane-lists">Sane Lists</a></li>
        <li><a href="#smartypants">SmartyPants</a></li>
        <li><a href="#table-of-contents">Table of Contents</a>
          <ul>
            <li><a href="#syntax-1">Syntax</a></li>
            <li><a href="#usage">Usage</a></li>
          </ul>
        </li>
        <li><a href="#wikilinks">WikiLinks</a>
          <ul>
            <li><a href="#syntax-2">Syntax</a></li>
            <li><a href="#usage-1">Usage</a></li>
            <li><a href="#examples">Examples</a></li>
            <li><a href="#使用meta-data扩展">使用Meta-Data扩展</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#第三方extensions">第三方Extensions</a></li>
    <li><a href="#extension-api">Extension API</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="写在前面">写在前面</h1>
<p>按照日常需求，</p>
<p>应该开启的扩展为：</p>
<ul>
<li>Fenced Code Blocks</li>
<li>Tables</li>
<li>Sane Lists</li>
<li>SmartyPants</li>
</ul>
<p>建议开启的扩展为：</p>
<ul>
<li>Codehilite</li>
<li>Footnotes</li>
<li>Meta-Data</li>
<li>Table of Contents</li>
</ul>
<h1 id="python-markdown简介">Python-Markdown简介</h1>
<p>Python-Markdown是John Gruber创造的<a href="http://daringfireball.net/projects/markdown/" target="_blank" rel="noopener noreffer">Markdown</a>语言的Python实现。除了极少的差异外（差别见下文），它几乎完全符合其语法参考。点击查看<a href="http://daringfireball.net/projects/markdown/syntax" target="_blank" rel="noopener noreffer">Markdown语法文档</a>。</p>
<h2 id="特性">特性</h2>
<p>除了基本的markdown语法，Python-Markdown还支持以下特性：</p>
<ul>
<li><strong>国际化语言输入(International Input)</strong> Python-Markdown 接受 Unicode 支持的任何语言，包括 bi-directional text。实际上测试套件包括用俄语和阿拉伯语写的文件。</li>
<li><strong>扩展(Extensions)</strong> 支持多种扩展用于改变或扩展基本语法。有开放的extension API供你进行开发。</li>
<li><strong>多种输出格式(Output Formats)</strong> Python-Markdown 支持以 HTML4、XHTML 和 HTML5 格式输出文档。</li>
<li><strong>命令行界面(Command Line Interface)</strong> 提供了一个命令行脚本方便你进行 markdown 的转换。</li>
</ul>
<h2 id="差异">差异</h2>
<p>虽然 Python-Markdown 尽量贴合 markdown 的语法规则，但某些规则可以以不同的方式解释，不同的方式实现（相关示例请参阅 <a href="http://johnmacfarlane.net/babelmark2/faq.html#what-are-some-examples-of-interesting-divergences-between-implementations" target="_blank" rel="noopener noreffer">Babelmark FAQ</a>）。Python-Markdown中发现的已知和有意义的差异总结如下：</p>
<ul>
<li><strong>Middle-Word Emphasis</strong> Python-Markdown 默认忽略 Middle-Word Emphasis。换言之，<code>some_long_filename.txt</code> 不会成为 <code>some&lt;em&gt;long&lt;/em&gt;filename.txt</code>。如有需要，这个选项可以关闭。</li>
<li><strong>Indentation/Tab Length</strong> <a href="http://daringfireball.net/projects/markdown/syntax#list" target="_blank" rel="noopener noreffer">markdown语法</a> 明确指出，当列表项包含多个段落时：</li>
</ul>
<blockquote>
<p>each subsequent paragraph in a list item <strong>must</strong> be indented by either 4 spaces or one tab</p>
</blockquote>
<p>然而许多markdown语法的实现并不执行此规则，允许缩进少于4个空格。Python-Markdown开发者认为这么做是个bug。</p>
<p>这适用于嵌套在列表中的任何块级元素，包括段落，子列表，块引用，代码块等。对于每个级别的嵌套，<strong>必须</strong>始终缩进四个空格或一个tab。</p>
<ul>
<li><strong>Consecutive Lists</strong> 虽然语法规则没有明确指出，但是当列表标记（星号，粗线，连字符和数字）更改时，许多实现（包括原始）不会结束一个列表并启动第二个列表。为了保持一致性，Python-Markdown保持相同的行为，目前没有更改的计划。</li>
</ul>
<h2 id="安装">安装</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">pip install markdown
</code></pre></td></tr></table>
</div>
</div><p>或者</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">easy_install markdown
</code></pre></td></tr></table>
</div>
</div><h1 id="使用参考">使用参考</h1>
<h2 id="简单的">简单的</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">markdown</span>
<span class="n">html</span> <span class="o">=</span> <span class="n">markdown</span><span class="o">.</span><span class="n">markdown</span><span class="p">(</span><span class="n">your_text_string</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="详细的">详细的</h2>
<p>Python-Markdown提供了两个公共函数（<code>markdown.markdown</code>和<code>markdown.markdownFromFile</code>），它们都包含公共类<code>markdown.Markdown</code>。如果您一次处理一个文档，这些功能将满足您的需求。但是，如果您需要处理多个文档，那么创建<code>markdown.Markdown</code>该类的单个实例并通过它传递多个文档可能是有利的。如果您确实使用单个实例，请确保正确调用该<code>reset</code> 方法。</p>
<h3 id="markdownmarkdown-text--kwargs"><code>markdown.markdown (text [, **kwargs])</code></h3>
<ul>
<li><code>text</code>（必需）：源Unicode字符串。Python-Markdown期望<strong>Unicode</strong>作为输入（尽管一些简单的ASCII字符串<em>可能</em>正常工作），并返回输出为Unicode。不要将编码后的字符串传递给它！</li>
<li><code>extensions</code>：扩展列表。Python-Markdown为第三方提供了一个API来为解析器编写extension，对语法进行添加或更改。一些常用的extension程序随着markdown库一起提供。有关可用extension的列表，请参阅文档。
extension列表可以包含extension实例或者extension名字符串。优先传extension实例。</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">extensions</span><span class="o">=</span><span class="p">[</span><span class="n">MyExtension</span><span class="p">(),</span> <span class="s1">&#39;path.to.my.ext&#39;</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>extension_configs</code>：扩展名的配置字典。任何配置项只会传递给使用名称字符串加载的extension，使用类实例加载的extension将会在类初始化时直接传递参数。（优选的方法是使用类实例加载extension，因此并不需要使用<code>extension_configs</code>关键字。）
配置字典必须采用以下格式（查看extension的配置参数请参阅extension相关文档）：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">extension_configs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;extension_name_1&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;option_1&#39;</span><span class="p">:</span> <span class="s1">&#39;value_1&#39;</span><span class="p">,</span>
        <span class="s1">&#39;option_2&#39;</span><span class="p">:</span> <span class="s1">&#39;value_2&#39;</span>
    <span class="p">},</span>
    <span class="s1">&#39;extension_name_2&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;option_1&#39;</span><span class="p">:</span> <span class="s1">&#39;value_1&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p><code>output_format</code>：输出格式。支持的格式有（值可以是小写或大写）：</p>
<ul>
<li><code>&quot;xhtml1&quot;</code>：输出XHTML 1.x. <strong>默认</strong>。</li>
<li><code>&quot;xhtml5&quot;</code>：输出HTML 5的XHTML样式标签。</li>
<li><code>&quot;xhtml&quot;</code>：（不推荐使用）输出最新支持的XHTML版本（目前为XHTML 1.1）。</li>
<li><code>&quot;html4&quot;</code>：输出HTML 4。</li>
<li><code>&quot;html5&quot;</code>：输出HTML 5的HTML样式标签</li>
<li><code>&quot;html&quot;</code>：（不推荐使用）输出最新支持的HTML版本（目前为HTML 4）。</li>
</ul>
</li>
<li>
<p><code>safe_mode</code>：（<strong>已被弃用</strong>）禁止部分原生HTML标签。默认值：False，可选值 <code>replace</code>、<code>remove</code>、<code>escape</code>。“safe_mode” 也会更改 <code>enable_attributes</code> 选项的默认值。该设置项已被弃用，建议使用HTML清理器（如 <a href="https://github.com/jsocol/bleach" target="_blank" rel="noopener noreffer">Bleach</a>）处理用户提交的不受信任的HTML。</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">markdown</span>
<span class="kn">import</span> <span class="nn">bleach</span>
<span class="n">html</span> <span class="o">=</span> <span class="n">bleach</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="n">markdown</span><span class="o">.</span><span class="n">markdown</span><span class="p">(</span><span class="n">untrusted_text</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>html_replacement_text</code>:当safe_mode设置为<code>replace</code>时用于替换的文本。<strong>已被弃用</strong>。</li>
<li><code>tab_length</code>：tab的长度。默认值：4</li>
<li><code>enable_attributes</code>：启用属性的转换。默认为 <code>True</code>，除非 <code>safe_mode</code> 启用，在这种情况下是默认值 <code>False</code>。<code>safe_mode</code>仅覆盖默认值。如果<code>enable_attributes</code> 显式设置，则使用显式值，无论如何<code>safe_mode</code>。但是，这可能会让不受信任的用户将JavaScript注入到文档中。</li>
<li><code>smart_emphasis</code>：<code>_connected_words_</code> 智能处理默认值：True，即上文差异中说的第一点。</li>
<li><code>lazy_ol</code>：忽略有序列表的第一个项目的数量。默认值：True，即上文差异中说的第三点。如果设置为<code>False</code>，则给出以下列表：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="k">4.</span> Apples
<span class="k">5.</span> Oranges
<span class="k">6.</span> Pears
</code></pre></td></tr></table>
</div>
</div><p>将输出：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">ol</span> <span class="na">start</span><span class="o">=</span><span class="s">&#34;4&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Apples<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Oranges<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Pears<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="markdownmarkdownfromfile-kwargs"><code>markdown.markdownFromFile (**kwargs)</code></h3>
<p>除了极少数的情况，<code>markdown.markdownFromFile</code>接受与<code>markdown.markdown</code>相同的参数。但是其不接受text（或Unicode）类型字符串，而是接受以下必传参数：</p>
<ul>
<li>
<p><code>input</code> （必填）：源文本文件。</p>
<p>可以设置为以下三种：</p>
<ul>
<li>一个字符串，指定了文件系统中可读文件的路径；</li>
<li>一个可读的file-like对象；</li>
<li>None（默认），此时将从stdin中读取；</li>
</ul>
</li>
<li>
<p><code>output</code>：定义输出位置。</p>
<p>可以设置为以下三种：</p>
<ul>
<li>一个字符串，指定了文件系统中可写文件的路径；</li>
<li>一个可写的file-like对象；</li>
<li>None（默认），此时输出到stdout；</li>
</ul>
</li>
<li>
<p><code>encoding</code>：源文本文件的编码。默认值是<code>utf-8</code>。输入和输出总是使用相同的编码。编码output时将会使用<code>xmlcharrefreplace</code>错误处理程序。</p>
<p>这是唯一可以在Python-Markdown中进行Unicode解码和编码的地方。如果这种天真的解决方案不能满足您的具体需求，建议您编写自己的代码来处理编码/解码需求。</p>
</li>
</ul>
<h3 id="markdownmarkdown-kwargs"><code>markdown.Markdown ([**kwargs])</code></h3>
<p>初始化<code>markdown.Markdown</code>类时，可以使用与<code>markdown.markdown</code>函数相同的参数，唯一的例外是该类在初始化时<strong>不接受源文本字符串</strong>。源文本字符串必须传递给以下两个实例方法之一：</p>
<ul>
<li>
<p><code>Markdown.convert(source)</code></p>
<p>该source文本与<code>markdown.markdown</code>函数的text参数有相同的要求。</p>
<p>你还可以用该方法处理多个字符串而不必为每个字符串创建一个新的类实例。</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">md</span> <span class="o">=</span> <span class="n">markdown</span><span class="o">.</span><span class="n">Markdown</span><span class="p">()</span>
<span class="n">html1</span> <span class="o">=</span> <span class="n">md</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">text1</span><span class="p">)</span>
<span class="n">html2</span> <span class="o">=</span> <span class="n">md</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">text2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>根据要使用的选项和扩展，解析器可能要在每个调用<code>convert</code>方法之间进行复位（reset），否则可能会影响性能：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">html1</span> <span class="o">=</span> <span class="n">md</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">text1</span><span class="p">)</span>
<span class="n">md</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">html2</span> <span class="o">=</span> <span class="n">md</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">text2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>你也可以同时调用<code>reset</code>方法和<code>convert</code>方法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">html3</span> <span class="o">=</span> <span class="n">md</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">text3</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p><code>Markdown.convertFile(**kwargs)</code></p>
<p>该方法的参数与<code>markdown.markdownFromFile</code>函数相同。与convert方法一样，该方法也用于处理多个文件而不必为每个文件创建一个新的类实例，也可在调用<code>convertFile</code>之间调用<code>reset</code>方法。</p>
</li>
</ul>
<h1 id="cli命令">CLI命令</h1>
<p>虽然Python-Markdown主要是一个Python库，但也包括一个命令行脚本。虽然还有许多其他的命令行的Markdown实现，但您可能没有安装它们，或者您更喜欢使用Python-Markdown的各种扩展：）</p>
<p>Python-Markdown的命令行脚本利用了Python的<code>-m</code>标志。因此可以通过以下方式来运行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ python -m markdown [options] [args]
</code></pre></td></tr></table>
</div>
</div><p>最基本的用法是只传递一个文件名作为唯一的参数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ python -m markdown input_file.txt
</code></pre></td></tr></table>
</div>
</div><p>支持管道输入和输出（<code>STDIN</code>和<code>STDOUT</code>)。例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ echo &#34;Some **Markdown** text.&#34; | python -m markdown &gt; output.html
</code></pre></td></tr></table>
</div>
</div><p>使用<code>--help</code>参数查看所有可用选项和参数列表。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ python -m markdown --help
</code></pre></td></tr></table>
</div>
</div><p>如果不想直接调用Python可执行文件（使用<code>-m</code>标志），请按照以下说明使用封装后的脚本：</p>
<h2 id="设置">设置</h2>
<p>Python-Markdown使用&quot;markdown_py&quot;作为脚本名称，因为Perl语言已经使用了更加明显的名称&quot;markdown&rdquo;。此外，某些系统上的默认Python配置会导致命名为&quot;markdown.py&quot;的脚本不能正常工作，因为系统错误地导入了脚本本身而不是markdown库。因此，我们将脚本命名为了&quot;markdown_py&rdquo;，如果您希望在您的系统中使用不同的脚本名称，建议您使用软链接指定到<code>markdown_py</code>命令。</p>
<h2 id="使用说明">使用说明</h2>
<p>最简单的方式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ markdown_py input_file.txt
</code></pre></td></tr></table>
</div>
</div><p>或者</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ markdown_py input_file.txt &gt; output_file.html
</code></pre></td></tr></table>
</div>
</div><p>要查看所有可用选项的列表</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ markdown_py --help
</code></pre></td></tr></table>
</div>
</div><h2 id="加载extension">加载extension</h2>
<p>要从命令行加载Python-Markdown extension，请使用<code>-x</code> （或<code>--extension</code>）选项。扩展模块必须位于您的<code>PYTHONPATH</code> 环境变量中（有关详细信息，请参阅<a href="https://pythonhosted.org/Markdown/extensions/api.html" target="_blank" rel="noopener noreffer">Extension API</a>）。可以使用Python的点语法通过该模块的名称来调用extension：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ python -m markdown -x path.to.module input.txt
</code></pre></td></tr></table>
</div>
</div><p>要加载多个extension，请为每个extension都指定<code>-x</code>选项：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ python -m markdown -x markdown.extensions.footnotes -x markdown.extensions.codehilite input.txt
</code></pre></td></tr></table>
</div>
</div><p>如果extension支持配置选项，您也可以将它们传入：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ python -m markdown -x markdown.extensions.footnotes -c config.yml input.txt
</code></pre></td></tr></table>
</div>
</div><p>该<code>-c</code>（或<code>--extension_configs</code>）选项接受一个文件名。该文件必须是<a href="http://yaml.org/" target="_blank" rel="noopener noreffer">YAML</a>或<a href="http://json.org/" target="_blank" rel="noopener noreffer">JSON</a>格式，并且包含<a href="http://yaml.org/" target="_blank" rel="noopener noreffer">YAML</a>或<a href="http://json.org/" target="_blank" rel="noopener noreffer">JSON</a>格式的内容，储存<code>markdown.Markdown</code>的extension_configs关键字参数使用的dict。因此，<code>config.yaml</code>上述示例中引用的文件可能如下所示：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">markdown.extensions.footnotes</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">PLACE_MARKER</span><span class="p">:</span><span class="w"> </span>~~~~~~~~<span class="w">
</span><span class="w">    </span><span class="k">UNIQUE_IDS</span><span class="p">:</span><span class="w"> </span>True<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>请注意，虽然该<code>--extension_configs</code>选项确实指定了“markdown.extensions.footnotes” extension，但您仍然需要使用<code>-x</code>选项加载该extension，否则该extension的配置将被忽略。</p>
<p>如果您的系统中安装了<a href="http://pyyaml.org/" target="_blank" rel="noopener noreffer">PyYAML</a>，<code>--extension_configs</code>选项将能够支持YAML格式配置文件。JSON格式配置文件的支持不需要安装额外扩展。程序会自动检测配置文件的格式。</p>
<h1 id="官方extensions">官方Extensions</h1>
<p>下面列出的extensions都包含在最新版本的Python-Markdown包中，并且由Python-Markdown官方维护。</p>
<table>
<thead>
<tr>
<th>Extension</th>
<th>“Name”</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://pythonhosted.org/Markdown/extensions/extra.html" target="_blank" rel="noopener noreffer">Extra</a></td>
<td><code>markdown.extensions.extra</code></td>
</tr>
<tr>
<td>- <a href="https://pythonhosted.org/Markdown/extensions/abbreviations.html" target="_blank" rel="noopener noreffer">Abbreviations</a></td>
<td><code>markdown.extensions.abbr</code></td>
</tr>
<tr>
<td>- <a href="https://pythonhosted.org/Markdown/extensions/attr_list.html" target="_blank" rel="noopener noreffer">Attribute Lists</a></td>
<td><code>markdown.extensions.attr_list</code></td>
</tr>
<tr>
<td>- <a href="https://pythonhosted.org/Markdown/extensions/definition_lists.html" target="_blank" rel="noopener noreffer">Definition Lists</a></td>
<td><code>markdown.extensions.def_list</code></td>
</tr>
<tr>
<td>- <a href="https://pythonhosted.org/Markdown/extensions/fenced_code_blocks.html" target="_blank" rel="noopener noreffer">Fenced Code Blocks</a></td>
<td><code>markdown.extensions.fenced_code</code></td>
</tr>
<tr>
<td>- <a href="https://pythonhosted.org/Markdown/extensions/footnotes.html" target="_blank" rel="noopener noreffer">Footnotes</a></td>
<td><code>markdown.extensions.footnotes</code></td>
</tr>
<tr>
<td>- <a href="https://pythonhosted.org/Markdown/extensions/tables.html" target="_blank" rel="noopener noreffer">Tables</a></td>
<td><code>markdown.extensions.tables</code></td>
</tr>
<tr>
<td>- <a href="https://pythonhosted.org/Markdown/extensions/smart_strong.html" target="_blank" rel="noopener noreffer">Smart Strong</a></td>
<td><code>markdown.extensions.smart_strong</code></td>
</tr>
<tr>
<td><a href="https://pythonhosted.org/Markdown/extensions/admonition.html" target="_blank" rel="noopener noreffer">Admonition</a></td>
<td><code>markdown.extensions.admonition</code></td>
</tr>
<tr>
<td><a href="https://pythonhosted.org/Markdown/extensions/code_hilite.html" target="_blank" rel="noopener noreffer">CodeHilite</a></td>
<td><code>markdown.extensions.codehilite</code></td>
</tr>
<tr>
<td><a href="https://pythonhosted.org/Markdown/extensions/header_id.html" target="_blank" rel="noopener noreffer">HeaderId</a></td>
<td><code>markdown.extensions.headerid</code></td>
</tr>
<tr>
<td><a href="https://pythonhosted.org/Markdown/extensions/meta_data.html" target="_blank" rel="noopener noreffer">Meta-Data</a></td>
<td><code>markdown.extensions.meta</code></td>
</tr>
<tr>
<td><a href="https://pythonhosted.org/Markdown/extensions/nl2br.html" target="_blank" rel="noopener noreffer">New Line to Break</a></td>
<td><code>markdown.extensions.nl2br</code></td>
</tr>
<tr>
<td><a href="https://pythonhosted.org/Markdown/extensions/sane_lists.html" target="_blank" rel="noopener noreffer">Sane Lists</a></td>
<td><code>markdown.extensions.sane_lists</code></td>
</tr>
<tr>
<td><a href="https://pythonhosted.org/Markdown/extensions/smarty.html" target="_blank" rel="noopener noreffer">SmartyPants</a></td>
<td><code>markdown.extensions.smarty</code></td>
</tr>
<tr>
<td><a href="https://pythonhosted.org/Markdown/extensions/toc.html" target="_blank" rel="noopener noreffer">Table of Contents</a></td>
<td><code>markdown.extensions.toc</code></td>
</tr>
<tr>
<td><a href="https://pythonhosted.org/Markdown/extensions/wikilinks.html" target="_blank" rel="noopener noreffer">WikiLinks</a></td>
<td><code>markdown.extensions.wikilinks</code></td>
</tr>
</tbody>
</table>
<h2 id="extra">Extra</h2>
<p>这是一部分Python-Markdown扩展的集合，主要模仿了<a href="http://michelf.com/projects/php-markdown/extra/" target="_blank" rel="noopener noreffer">PHP Markdown Extra</a>。</p>
<h3 id="abbreviations">Abbreviations</h3>
<p>该扩展提供定义缩写的功能。任何定义的缩写都会被包含在<code>&lt;abbr&gt;</code>标签中。</p>
<p>举例说明，下面的文本</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">The HTML specification
is maintained by the W3C.

*[HTML]: Hyper Text Markup Language
*[W3C]:  World Wide Web Consortium
</code></pre></td></tr></table>
</div>
</div><p>将会被解析为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
    The
    <span class="p">&lt;</span><span class="nt">abbr</span> <span class="na">title</span><span class="o">=</span><span class="s">&#34;Hyper Text Markup Language&#34;</span><span class="p">&gt;</span>HTML<span class="p">&lt;/</span><span class="nt">abbr</span><span class="p">&gt;</span>
    specification is maintained by the
    <span class="p">&lt;</span><span class="nt">abbr</span> <span class="na">title</span><span class="o">=</span><span class="s">&#34;World Wide Web Consortium&#34;</span><span class="p">&gt;</span>W3C<span class="p">&lt;/</span><span class="nt">abbr</span><span class="p">&gt;</span>
    .
<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="attribute-lists">Attribute Lists</h3>
<p>该扩展为HTML输出中的元素添加了属性定义。</p>
<h4 id="语法">语法</h4>
<p>属性列表定义如下所示：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{: <span class="ni">#someid</span> .someclass somekey=&#39;some value&#39; }
</code></pre></td></tr></table>
</div>
</div><p>以hash（<code>#</code>）开头的单词将设置为一个元素的id，以dot（<code>.</code>）开头的单词将被添加到元素的class中，键值对（<code>somekey='some value'</code>）将会作为属性分配给元素。注意，<strong>对于class，后定义的键值对会覆盖前定义的dot语法。</strong></p>
<p>例如，下面的定义：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{: <span class="ni">#id1</span> .class1 id=id2 class=&#34;class2 class3&#34; .class4 }
</code></pre></td></tr></table>
</div>
</div><p>其属性定义的结果是：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">id=&#34;id2&#34; class=&#34;class2 class3 class4&#34;
</code></pre></td></tr></table>
</div>
</div><h4 id="使用">使用</h4>
<ul>
<li>定义块级元素的属性，属性列表应该在块的最后一行定义。</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">This is a paragraph.
{: <span class="ni">#an_id</span> .a_class }
</code></pre></td></tr></table>
</div>
</div><p>以上的解析结果是：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&lt;p id=&#34;an_id&#34; class=&#34;a_class&#34;&gt;This is a paragraph.&lt;/p&gt;
</code></pre></td></tr></table>
</div>
</div><p>对于标题，只能定义在同一行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">A setext style header {: <span class="ni">#setext</span>}
=================================

<span class="gu">### A hash style header ### {: #hash }
</span></code></pre></td></tr></table>
</div>
</div><p>以上的解析结果是：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;setext&#34;</span><span class="p">&gt;</span>A setext style header<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h3</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;hash&#34;</span><span class="p">&gt;</span>A hash style header<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>定义内联元素的属性，属性应在同一行的内联元素后定义，且中间不能有空格。</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">[<span class="nt">link</span>](<span class="na">http://example.com</span>){: class=&#34;foo bar&#34; title=&#34;Some title!&#34; }
</code></pre></td></tr></table>
</div>
</div><p>以上的解析结果是：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://example.com&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;foo bar&#34;</span> <span class="na">title</span><span class="o">=</span><span class="s">&#34;Some title!&#34;</span><span class="p">&gt;</span>link<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="definition-lists">Definition Lists</h3>
<p>该扩展用于定义HTML中的definition list。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">Apple
:   Pomaceous fruit of plants of the genus Malus in
    the family Rosaceae.

Orange
:   The fruit of an evergreen tree of the genus Citrus.
</code></pre></td></tr></table>
</div>
</div><p>将呈现为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">dl</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">dt</span><span class="p">&gt;</span>Apple<span class="p">&lt;/</span><span class="nt">dt</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">dd</span><span class="p">&gt;</span>Pomaceous fruit of plants of the genus Malus in
the family Rosaceae.<span class="p">&lt;/</span><span class="nt">dd</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">dt</span><span class="p">&gt;</span>Orange<span class="p">&lt;/</span><span class="nt">dt</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">dd</span><span class="p">&gt;</span>The fruit of an evergreen tree of the genus Citrus.<span class="p">&lt;/</span><span class="nt">dd</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">dl</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="fenced-code-blocks">Fenced Code Blocks</h3>
<p>该扩展用于定义多行代码块。</p>
<p>可以这样：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">​~~~~{.python}
<span class="gh"># python code
</span><span class="gh"></span>​~~~~

​~~~~.html
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>HTML Document<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
​~~~~
</code></pre></td></tr></table>
</div>
</div><p>或者这样</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">​```python
<span class="gh"># more python code
</span><span class="gh"></span>​```
</code></pre></td></tr></table>
</div>
</div><p>对代码块中某些行进行强调（需要安装 <a href="http://pygments.org/" target="_blank" rel="noopener noreffer">Pygments</a>依赖）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">​~~~~{.python hl_lines=&#34;1 3&#34;}
<span class="gh"># This line is emphasized
</span><span class="gh"># This line isn&#39;t
</span><span class="gh"># This line is emphasized
</span><span class="gh"></span>​~~~~
</code></pre></td></tr></table>
</div>
</div><p>或者</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="err">​</span><span class="sb">``</span><span class="err">`</span><span class="n">python</span> <span class="n">hl_lines</span><span class="o">=</span><span class="s2">&#34;1 3&#34;</span>
<span class="c1"># This line is emphasized</span>
<span class="c1"># This line isn&#39;t</span>
<span class="c1"># This line is emphasized</span>
<span class="err">​</span><span class="sb">``</span><span class="err">`</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="footnotes">Footnotes</h3>
<p>该扩展支持在Markdown文档中定义脚注。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">Footnotes[^1] have a label[^@#$%] and the footnote&#39;s content.

[^1]: This is a footnote content.
[^@#$%]: A footnote on the label: &#34;@#$%&#34;.
</code></pre></td></tr></table>
</div>
</div><p>脚注标签定义在一组square brackets（<code>[]</code>）中，必须以caret（<code>^</code>）开头，标签名中可能包含任何内联文本，包括空格。只有第一个<code>^</code>是有特殊含义的。</p>
<p>脚注内容格式：在标签后必须跟冒号和至少一个空格，然后在同一行或者下一行添加脚注内容。内容可以包含多行、段落、代码块、引用和其他大多数markdown语法。从第二行开始应当缩进一级（四个空格或者一个tab）。</p>
<p>当使用多个块时，建议在块与块之间空一行分割内容，增加可读性。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">[^1]:
    The first paragraph of the definition.

    Paragraph two of the definition.
<span class="k">
</span><span class="k">    &gt; </span><span class="ge">A blockquote with
</span><span class="ge"></span><span class="k">    &gt; </span><span class="ge">multiple lines.
</span><span class="ge"></span>
        a code block

    A final paragraph.
</code></pre></td></tr></table>
</div>
</div><h3 id="tables">Tables</h3>
<p>该扩展支持在Markdown文档中定义表格。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">First Header  | Second Header
------------- | -------------
Content Cell  | Content Cell
Content Cell  | Content Cell
</code></pre></td></tr></table>
</div>
</div><p>将呈现为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">table</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">thead</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>First Header<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Second Header<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">thead</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">tbody</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Content Cell<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Content Cell<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Content Cell<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Content Cell<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">tbody</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="smart_strong">Smart_Strong</h3>
<p>该扩展能智能处理双下划线标识的强调。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&gt;&gt;&gt; import markdown
&gt;&gt;&gt; markdown.markdown(&#39;Text with double__underscore__words.&#39;, \
                      extensions=[&#39;markdown.extensions.smart_strong&#39;])
u&#39;&lt;p&gt;Text with double__underscore__words.&lt;/p&gt;&#39;
&gt;&gt;&gt; markdown.markdown(&#39;__Strong__ still works.&#39;, \
                      extensions=[&#39;markdown.extensions.smart_strong&#39;])
u&#39;&lt;p&gt;&lt;strong&gt;Strong&lt;/strong&gt; still works.&lt;/p&gt;&#39;
&gt;&gt;&gt; markdown.markdown(&#39;__this__works__too__.&#39;, \
                      extensions=[&#39;markdown.extensions.smart_strong&#39;])
u&#39;&lt;p&gt;&lt;strong&gt;this__works__too&lt;/strong&gt;.&lt;/p&gt;&#39;
</code></pre></td></tr></table>
</div>
</div><h2 id="admonition">Admonition</h2>
<p>该扩展支持在markdown中定义<a href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#specific-admonitions" target="_blank" rel="noopener noreffer">rST-style</a> admonitions。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">!!! type &#34;optional explicit title within double quotes&#34;
    Any number of other indented markdown elements.

    This is the second paragraph.
</code></pre></td></tr></table>
</div>
</div><p>如果没有标题，<code>type</code>将被用作css类名和默认标题。rST建议以下内容的<code>type</code>：attention, caution, danger, error, hint, important, note, tip, warning。举个🌰：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">!!! note
    You should note that the title will be automatically capitalized.
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;admonition note&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;admonition-title&#34;</span><span class="p">&gt;</span>Note<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>You should note that the title will be automatically capitalized.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>如果不想有标题，可以将标题设置为空字符串<code>&quot;&quot;</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">!!! important &#34;&#34;
    This is a admonition box without a title.
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;admonition important&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>This is a admonition box without a title.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="codehilite">CodeHilite</h2>
<h3 id="安装-1">安装</h3>
<p>该扩展使用 <a href="http://pygments.org/" target="_blank" rel="noopener noreffer">Pygments</a> 为代码块添加语法高亮。使用该插件需要先安装 Pygments：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">pip3 install pygments
</code></pre></td></tr></table>
</div>
</div><p>通过 Pygments 生成 css 样式文件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">pygmentize -S default -f html -a .codehilite &gt; styles.css
</code></pre></td></tr></table>
</div>
</div><p><code>-S</code> 指定使用的 css 主题样式名称，Pygments 内置了多种主题，查看内置主题列表：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">pygmentize -L style
</code></pre></td></tr></table>
</div>
</div><p>下面的网站提供了主题的预览：</p>
<ul>
<li><a href="http://jwarby.github.io/jekyll-pygments-themes/languages/python.html" target="_blank" rel="noopener noreffer">Pygments Syntax Highlighter CSS Theme Files</a></li>
<li><a href="http://richleland.github.io/pygments-css/" target="_blank" rel="noopener noreffer">pygments-css by richleland</a></li>
</ul>
<p><code>-a</code> 选项应与 codehilete 的配置 <code>css_class</code> 保持一致。</p>
<p>把生成的 css 文件集成到展示 markdown 文档的 html 中，即可实现代码块语法高亮。</p>
<h3 id="配置">配置</h3>
<p>该扩展有以下配置项：</p>
<ul>
<li><code>linenums</code> 是否展示行号。默认为 <code>None</code> 表示自动处理，可以设置为 <code>True</code> - 展示，<code>False</code> - 不展示。</li>
<li><code>guess_lang</code> 猜测代码块语言。默认为 <code>True</code>，可以设置为 <code>False</code>。</li>
<li><code>css_class</code> 设置代码块 <code>div</code> 标签中的 css类名，默认为 <code>codehilite</code>。</li>
<li><code>pygments_style</code> Pygment HTML 主题样式名称，默认为 <code>default</code>。该选项只在 <code>noclasses</code> 为 <code>True</code> 时有效，否则应该另外提供 css 文件。</li>
<li><code>noclasses</code> 使用内联样式，默认为 <code>False</code>。</li>
<li><code>use_pygments</code> 使用 Pygment，默认为 <code>True</code>。</li>
</ul>
<h2 id="headerld">Headerld</h2>
<p>该扩展自动为生成的HTML文件中的标题元素（h1-h6)生成id属性。</p>
<p><strong>注意：该扩展即将被弃用</strong>，请使用提供了更多特性的TOC扩展作为替代。</p>
<h3 id="语法-1">语法</h3>
<p>默认情况下，将会基于标题的文本生成唯一的标题id。举🌰如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh"># Header
</span><span class="gh"># Header
</span><span class="gh"># Header
</span></code></pre></td></tr></table>
</div>
</div><p>渲染结果是：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;header&#34;</span><span class="p">&gt;</span>Header<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;header_1&#34;</span><span class="p">&gt;</span>Header<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;header_2&#34;</span><span class="p">&gt;</span>Header<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="使用-1">使用</h3>
<p>选项如下：</p>
<ul>
<li><code>level</code>：设置标题的基本级别，默认值为1。假如你要设置所有的标题都不高于level 3(<code>&lt;h3&gt;</code>)：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&gt;&gt;&gt;  text = &#39;&#39;&#39;
... #Some Header
... ## Next Level&#39;&#39;&#39;
&gt;&gt;&gt; from markdown.extensions.headerid import HeaderIdExtension
&gt;&gt;&gt; html = markdown.markdown(text, extensions=[HeaderIdExtension(level=3)])
&gt;&gt;&gt; print html
&lt;h3 id=&#34;some_header&#34;&gt;Some Header&lt;/h3&gt;
&lt;h4 id=&#34;next_level&#34;&gt;Next Level&lt;/h4&gt;&#39;
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>fouceid</code>：强制所有headers都有id，默认值True。</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&gt;&gt;&gt; text = &#39;&#39;&#39;
... # Some Header
... # Header with ID # { #foo }&#39;&#39;&#39;
&gt;&gt;&gt; html = markdown.markdown(text,
                           extensions=[&#39;markdown.extensions.attr_list&#39;,
                                       HeaderIdExtension(forceid=False)])
&gt;&gt;&gt; print(html)
&lt;h1&gt;Some Header&lt;/h1&gt;
&lt;h1 id=&#34;foo&#34;&gt;Header with ID&lt;/h1&gt;
</code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p><code>separator</code>：单词分隔符，用于代替id中的空格。默认值<code>-</code>。</p>
</li>
<li>
<p><code>slugify</code>：用于生成锚点。默认值<code>markdown.extensions.headerid.slugify</code>。如果你想使用不同的id生成算法，你可以传一个包含以下两个参数的可调用对象：</p>
<ul>
<li><code>value</code>：slugify字符串。</li>
<li><code>separator</code>：单词分隔符。</li>
</ul>
</li>
</ul>
<h3 id="使用meta-data">使用<code>Meta-data</code></h3>
<p>该扩展支持<code>Meta-data</code>扩展。使用的关键字是：</p>
<ul>
<li><code>header_level</code></li>
<li><code>header_forceid</code></li>
</ul>
<p>使用时，meta-data将会覆盖通过<code>extension_configs</code>接口传入的设置。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">header_level: 2
header_forceid: Off

<span class="gh"># A Header
</span></code></pre></td></tr></table>
</div>
</div><p>渲染后：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>A Header<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="meta-data">Meta-Data</h2>
<p>该扩展提供了定义文档元数据的方法。目前，该扩展并不使用元数据，而是作为Markdown实例的 <code>Meta</code> 属性，供其他扩展或直接被 Python 代码调用。</p>
<h3 id="syntax">Syntax</h3>
<p>Meta-data <strong>定义在 markdown 文件的开头</strong>，包含一系列的 keyword 和 value。keyword 不区分大小写，可能包含字母、数字、下划线和短横线，必须以冒号结尾。value 包含冒号后当前行的所有内容，也可为空。</p>
<p><strong>如果一行缩进不少于 4 个空格，这一行被认为是先前行 keyword 的 value 的附加行</strong>，可以有多行 keyword。</p>
<p>空行将会结束所有 Meta-data 的定义。因此，<strong>如果含有元数据定义，文档的第一行不能是空行。</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">Title:   My Document
Summary: A brief description of my document.
Authors: Waylan Limberg
         John Doe
Date:    October 2, 2007
blank-value:
base_url: http://example.com

This is the first paragraph of the document.
</code></pre></td></tr></table>
</div>
</div><p>你也可以使用 YAML 样式来标识 Meta-data 的起止行。此时，文档的第一行必须是 <code>—--</code>，Meta-data 在遇到第一个空白行结束，或遇到包含结尾分隔符（<code>---</code> 或者 <code>...</code>）的行结束。如此做的话，即使 Markdown 支持 YAML 解析，元数据也不会被解析为 YAML 内容。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">---
Title:   My Document
Summary: A brief description of my document.
Authors: Waylan Limberg
         John Doe
Date:    October 2, 2007
blank-value:
base_url: http://example.com
---

This is the first paragraph of the document.
</code></pre></td></tr></table>
</div>
</div><p>上面两个例子的解析结果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">&#34;<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>This is the first paragraph of the document.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>&#34;
</code></pre></td></tr></table>
</div>
</div><h3 id="访问meta-data">访问Meta-data</h3>
<p>meta-data 在 Markdown 类实例的 Meta 属性中作为一个 python Dict 提供。注意：所有的 keyword 都是小写的，value 是一个 String 组成的 List，其中的每一个元素是该 keyword 的一行，不包含换行符。如果有需要，可以保留换行符或者在合适的时候加上。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="p">{</span>
    <span class="s1">&#39;authors&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Waylan Limberg&#39;</span><span class="p">,</span> <span class="s1">&#39;John Doe&#39;</span><span class="p">],</span>
    <span class="s1">&#39;base_url&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;http://example.com&#39;</span><span class="p">],</span>
    <span class="s1">&#39;blank-value&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;October 2, 2007&#39;</span><span class="p">],</span>
    <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A brief description of my document.&#39;</span><span class="p">],</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;My Document&#39;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>元数据可以在模版系统中传入，或者被其他Markdown扩展使用。只有你想不到哈哈哈～</p>
<h3 id="已兼容的扩展">已兼容的扩展</h3>
<ul>
<li>HeaderId
<ul>
<li><code>header_level</code></li>
<li><code>header_forceid</code></li>
</ul>
</li>
<li>WikiLinks
<ul>
<li><code>wiki_base_url</code></li>
<li><code>wiki_end_url</code></li>
<li><code>wiki_html_class</code></li>
</ul>
</li>
</ul>
<h2 id="new-line-to-break">New Line to Break</h2>
<p>该扩展(nl2br)会把markdown中的换行视为”hard break“，类似StackOverFlow和GitHub的风格。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&gt;&gt;&gt; import markdown
&gt;&gt;&gt; text = &#34;&#34;&#34;
... Line 1
... Line 2
... &#34;&#34;&#34;
&gt;&gt;&gt; html = markdown.markdown(text, extensions=[&#39;markdown.extensions.nl2br&#39;])
&gt;&gt;&gt; print html
&lt;p&gt;Line 1&lt;br /&gt;
Line 2&lt;/p&gt;
</code></pre></td></tr></table>
</div>
</div><h2 id="sane-lists">Sane Lists</h2>
<p>该扩展改变了Markdown中列表的语法。</p>
<p>Sane List不允许列表项混合。即当遇到无序列表时，有序列表将不会继续，反之亦然。例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="k">1.</span> Ordered item 1
<span class="k">2.</span> Ordered item 2

<span class="k">*</span> Unordered item 1
<span class="k">*</span> Unordered item 2
</code></pre></td></tr></table>
</div>
</div><p>将产生以下输出：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Ordered item 1<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Ordered item 2<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Unordered item 1<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Unordered item 2<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>而默认的Markdown行为是生成有序列表（实测）。</p>
<p>注意，与默认的Markdown行为不同，如果列表项之间未包含空白行，不同的列表类型将被忽略，这与段落的行为一致。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">A Paragraph.
<span class="ge">* Not a list item.
</span><span class="ge">
</span><span class="ge">1. Ordered list item.
</span><span class="ge">*</span> Not a separate list item.
</code></pre></td></tr></table>
</div>
</div><p>该扩展的输出为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>A Paragraph.
* Not a list item.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Ordered list item.
  * Not a separate list item.<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>默认Markdown输出：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>A Paragraph.
* Not a list item.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Ordered list item.<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Not a separate list item.<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>在其他方面，该扩展与正常的Markdown列表一致。</p>
<h2 id="smartypants">SmartyPants</h2>
<p>该扩展将ASCII码的短横线dash、引号quotes、和省略号ellipses替换为他们的html表示法。</p>
<table>
<thead>
<tr>
<th>ASCII symbol</th>
<th>Replacements</th>
<th>HTML Entities</th>
<th>Substitution Keys</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>'</code></td>
<td>‘ ’</td>
<td><code>&amp;lsquo;</code> <code>&amp;rsquo;</code></td>
<td><code>'left-single-quote'</code>, <code>'right-single-quote'</code></td>
</tr>
<tr>
<td><code>&quot;</code></td>
<td>“ ”</td>
<td><code>&amp;ldquo;</code> <code>&amp;rdquo;</code></td>
<td><code>'left-double-quote'</code>, <code>'right-double-quote'</code></td>
</tr>
<tr>
<td><code>&lt;&lt; &gt;&gt;</code></td>
<td>« »</td>
<td><code>&amp;laquo;</code> <code>&amp;raquo;</code></td>
<td><code>'left-angle-quote'</code>, <code>'right-angle-quote'</code></td>
</tr>
<tr>
<td><code>...</code></td>
<td>…</td>
<td><code>&amp;hellip;</code></td>
<td><code>'ellipsis'</code></td>
</tr>
<tr>
<td><code>--</code></td>
<td>–</td>
<td><code>&amp;ndash;</code></td>
<td><code>'ndash'</code></td>
</tr>
<tr>
<td><code>---</code></td>
<td>—</td>
<td><code>&amp;mdash;</code></td>
<td><code>'mdash'</code></td>
</tr>
</tbody>
</table>
<p>使用&rsquo;substitutions&rsquo;配置项你可以覆盖默认配置。只需要传一个dict映射key和替代的string。</p>
<p>举个🌰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">extension_configs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;markdown.extensions.smarty&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;substitutions&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;left-single-quote&#39;</span><span class="p">:</span> <span class="s1">&#39;&amp;sbquo;&#39;</span><span class="p">,</span> <span class="c1"># sb is not a typo!</span>
            <span class="s1">&#39;right-single-quote&#39;</span><span class="p">:</span> <span class="s1">&#39;&amp;lsquo;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;left-double-quote&#39;</span><span class="p">:</span> <span class="s1">&#39;&amp;bdquo;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;right-double-quote&#39;</span><span class="p">:</span> <span class="s1">&#39;&amp;ldquo;&#39;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>扩展配置项：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>smart_dashes</code></td>
<td><code>True</code></td>
<td>是否转换破折号</td>
</tr>
<tr>
<td><code>smart_quotes</code></td>
<td><code>True</code></td>
<td>是否直接转换引号</td>
</tr>
<tr>
<td><code>smart_angled_quotes</code></td>
<td><code>False</code></td>
<td>是否转换尖括号</td>
</tr>
<tr>
<td><code>smart_ellipses</code></td>
<td><code>True</code></td>
<td>是否转换省略号</td>
</tr>
<tr>
<td><code>substitutions</code></td>
<td><code>{}</code></td>
<td>即上面说到的配置项</td>
</tr>
</tbody>
</table>
<h2 id="table-of-contents">Table of Contents</h2>
<p>该扩展用于生成目录。</p>
<h3 id="syntax-1">Syntax</h3>
<p>使用扩展时默认情况下，所有标题将自动基于标题文本生成唯一的标题id属性，像HeaderId扩展一样。</p>
<p>在文档需要放置目录的地方放一个<code>[TOC]</code>标记，将会替换为由所有标题生成的嵌套列表。</p>
<p>无论在文档中有没有<code>maker</code>（默认是<code>[TOC]</code>），都可以使用Markdown类实例的<code>toc</code>属性读取目录内容，然后在页面模版中使用目录。</p>
<h3 id="usage">Usage</h3>
<p>提供以下选项来配置输出：</p>
<ul>
<li>
<p><code>maker</code>：在文档中用于寻找和替换目录的字符串，默认值是<code>[TOC]</code>。设置为空字符串将会禁用搜索maker，这在长文档中能够节约转换的时间。</p>
</li>
<li>
<p><code>title</code>：插入目录<code>&lt;div&gt;</code>元素的title，默认值为<code>None</code>。</p>
</li>
<li>
<p><code>anchorlink</code>：设置为True将使所有标题链接到自己。默认值为<code>False</code>。</p>
</li>
<li>
<p><code>permalink</code>：设置为<code>True</code>或一个String，以在每个标题的末尾生成永久链接。适用于Sphinx样式表。当设置为<code>True</code>时，段落符号（<code>¶</code>或 <code>&amp;para;</code>）用作链接文本；当设置为String时，提供的String作为链接文本。</p>
</li>
<li>
<p><code>baselevel</code>：标题的基本级别，默认为1。举个例子，假如设置为3，那么所有标题的级别都不会高于3，如下：</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&gt;&gt;&gt;  text = &#39;&#39;&#39;
... #Some Header
... ## Next Level&#39;&#39;&#39;
&gt;&gt;&gt; from markdown.extensions.toc import TocExtension
&gt;&gt;&gt; html = markdown.markdown(text, extensions=[TocExtension(baselevel=3)])
&gt;&gt;&gt; print html
&lt;h3 id=&#34;some_header&#34;&gt;Some Header&lt;/h3&gt;
&lt;h4 id=&#34;next_level&#34;&gt;Next Level&lt;/h4&gt;&#39;
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>slugify</code>：用于生成锚点，默认值<code>markdown.extensions.headerid.slugify</code>。与HeaderId的<code>slugify</code>参数用法相同。</li>
<li><code>separator</code>：单词分隔符，用于替换id中的空格，默认值是<code>-</code>。</li>
</ul>
<h2 id="wikilinks">WikiLinks</h2>
<p>该扩展提供了对<a href="http://en.wikipedia.org/wiki/Wikilink" target="_blank" rel="noopener noreffer">WikiLinks</a>的支持。具体来说，任何的<code>[[bracketed]]</code>标记都将转换为链接。</p>
<h3 id="syntax-2">Syntax</h3>
<p><code>[[bracketed]]</code>标记由大写字母、小写字母、数字、短横线dash、下划线和空格组成，被两个方括号包裹而成。WikiLinks会自动分配<code>class=&quot;wikilink&quot;</code>属性以使WikiLink的样式与页面上其他链接进行区别。下面会降到如何修改class名。因此：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">[[Bracketed]]
</code></pre></td></tr></table>
</div>
</div><p>将会被转换为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/Bracketed/&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;wikilink&#34;</span><span class="p">&gt;</span>Bracketed<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>注意，如果标记中含有空格，将会在链接中被转换为下划线，但在文本中保留原样。举个🌰：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">[[Wiki Link]]
</code></pre></td></tr></table>
</div>
</div><p>会转换为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/Wiki_Link/&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;wikilink&#34;</span><span class="p">&gt;</span>Wiki Link<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="usage-1">Usage</h3>
<p>默认情况下，链接将会指向域名的根目录，并使用尾部斜线关闭。此外，每个链接都分配了CSS class <code>wikilink</code>。</p>
<p>配置项如下：</p>
<ul>
<li><code>base_url</code>：添加到URL开头的字符串，默认值<code>/</code>。</li>
<li><code>end_url</code>：添加到URL末尾的字符串，默认值<code>/</code>。</li>
<li><code>html_class</code>：CSS类名，留空为None，默认值<code>wikilink</code>。</li>
<li><code>build_url</code>：可调用对象，用于格式化URL，传入三个参数（<code>label</code>， <code>base</code>，和<code>end</code>），返回URL。</li>
</ul>
<h3 id="examples">Examples</h3>
<p>使链接始终指向<code>/wiki/</code>的子目录并以<code>.html</code>结尾：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&gt;&gt;&gt; from markdown.extensions.wikilinks import WikiLinkExtension
&gt;&gt;&gt; html = markdown.markdown(text,
...     extensions=[WikiLinkExtension(base_url=&#39;/wiki/&#39;, end_url=&#39;.html&#39;)]
... )
</code></pre></td></tr></table>
</div>
</div><p>将会使<code>[[WikiLink]]</code>变为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/wiki/WikiLink.html&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;wikilink&#34;</span><span class="p">&gt;</span>WikiLink<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>如果你想要的不只是改变url的开头和结尾，可以使用<code>build_url</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&gt;&gt;&gt; def my_url_builder(label, base, end):
...    # do stuff
...    return url
...
&gt;&gt;&gt; html = markdown.markdown(text,
...     extensions=[WikiLinkExtension(build_url=my_url_builder)],
... )
</code></pre></td></tr></table>
</div>
</div><h3 id="使用meta-data扩展">使用Meta-Data扩展</h3>
<p>支持使用的meta-data关键字是：</p>
<ul>
<li><code>wiki_base_url</code></li>
<li><code>wiki_end_url</code></li>
<li><code>wiki_html_class</code></li>
</ul>
<p>使用时，meta-data将覆盖通过<code>extension_configs</code>提供的设置。</p>
<p>如下的markdown文件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">wiki_base_url: http://example.com/
wiki_end_url:  .html
wiki_html_class:

A [[WikiLink]] in the first paragraph.
</code></pre></td></tr></table>
</div>
</div><p>将会导致以下输出（注意<code>wiki_html_class</code>是空白的）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>A <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://example.com/WikiLink.html&#34;</span><span class="p">&gt;</span>WikiLink<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> in the first paragraph.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="第三方extensions">第三方Extensions</h1>
<p>这有个第三方扩展的列表——<a href="https://github.com/Python-Markdown/markdown/wiki/Third-Party-Extensions" target="_blank" rel="noopener noreffer">Third Party Extensions</a></p>
<h1 id="extension-api">Extension API</h1>
<p>放个链接，暂时用不上。https://pythonhosted.org/Markdown/extensions/api.html</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2017-10-29</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/38ba7/" class="prev" rel="prev" title="在Ubuntu上使用Conda"><i class="fas fa-angle-left fa-fw"></i>在Ubuntu上使用Conda</a>
            <a href="/posts/ea7c7/" class="next" rel="next" title="使用Python操作ESCPOS协议热敏打印机">使用Python操作ESCPOS协议热敏打印机<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="gitalk" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://github.com/gitalk/gitalk"></a>Gitalk</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">❤️ <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.74.3">Hugo</a> & <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10">LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2017-2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/mrchi" target="_blank">MrChi</a></span>
                    🇨🇳&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/gitalk/gitalk.min.f43b616e7aefc9891aaaa546d41562aff9da8cd5ca2a15ed796df560a4846fe4.css" integrity="sha256-9DthbnrvyYkaqqVG1BVir/najNXKKhXteW31YKSEb&#43;Q="><link rel="stylesheet" href="/lib/katex/katex.min.4710034e669c7ff17f823f9ba12cf8a36582d65b007f79cbc4a3c11d7db2e4ca.css" integrity="sha256-RxADTmacf/F/gj&#43;boSz4o2WC1lsAf3nLxKPBHX2y5Mo="><link rel="stylesheet" href="/lib/katex/copy-tex.min.bf9ff4137fec38f6255419e142d0883c9c52090885d746f80eee12b273d9b3e0.css" integrity="sha256-v5/0E3/sOPYlVBnhQtCIPJxSCQiF10b4Du4SsnPZs&#43;A="><script type="text/javascript" src="/lib/gitalk/gitalk.min.0a873c7ad4c8e3eaf8357ef0c7f0fdc821654e86e646b54999a55810dd6657a0.js" integrity="sha256-Coc8etTI4&#43;r4NX7wx/D9yCFlTobmRrVJmaVYEN1mV6A="></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.bcff85fb5e00d68802850b393ac7792c997f722f536f38e26638c46dca8e5eb6.js" integrity="sha256-vP&#43;F&#43;14A1ogChQs5Osd5LJl/ci9TbzjiZjjEbcqOXrY="></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.615590a2ca2b667afa7c02ef396f5500b62e22795ddbb46448f90494605d09a5.js" integrity="sha256-YVWQosorZnr6fALvOW9VALYuInld27RkSPkElGBdCaU="></script><script type="text/javascript" src="/lib/algoliasearch/algoliasearch-lite.umd.min.8af144bb3c7d3cadc3955a71b27d946c14d8aedce9b9c64b07cd00365357ae08.js" integrity="sha256-ivFEuzx9PK3DlVpxsn2UbBTYrtzpucZLB80ANlNXrgg="></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.fb649fcae62177dfe63e67081ddceb830b5ce1f05a4184e9bbb7d87ac4b8f4e5.js" integrity="sha256-&#43;2SfyuYhd9/mPmcIHdzrgwtc4fBaQYTpu7fYesS49OU="></script><script type="text/javascript" src="/lib/twemoji/twemoji.min.e5845681ecd26aaf715f65c6b871e241c1d37b95960d5a258126a27d481ae306.js" integrity="sha256-5YRWgezSaq9xX2XGuHHiQcHTe5WWDVolgSaifUga4wY="></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.8a7739925f4c03586479852df840b7061948832a7fda30c8c812d2ea4dd4c4f2.js" integrity="sha256-inc5kl9MA1hkeYUt&#43;EC3BhlIgyp/2jDIyBLS6k3UxPI="></script><script type="text/javascript" src="/lib/katex/katex.min.17f5dd6b9f123dd7140abfb18521b3f4c036cd004f6f40121182a8865f140877.js" integrity="sha256-F/Xda58SPdcUCr&#43;xhSGz9MA2zQBPb0ASEYKohl8UCHc="></script><script type="text/javascript" src="/lib/katex/auto-render.min.f74776a677f0d2be0af0264058f928e2ba455d0b19bc985304660d922a43a6b2.js" integrity="sha256-90d2pnfw0r4K8CZAWPko4rpFXQsZvJhTBGYNkipDprI="></script><script type="text/javascript" src="/lib/katex/copy-tex.min.2ab2237329021bc443986c8327f6e61357fb68a54e5d233d224023718c02207d.js" integrity="sha256-KrIjcykCG8RDmGyDJ/bmE1f7aKVOXSM9IkAjcYwCIH0="></script><script type="text/javascript" src="/lib/katex/mhchem.min.5cea356d6025c5a2f18c454c83ec5674dbb04fab1cd1d75569e77788c6b6f888.js" integrity="sha256-XOo1bWAlxaLxjEVMg&#43;xWdNuwT6sc0ddVaed3iMa2&#43;Ig="></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":40},"comment":{"gitalk":{"admin":["mrchi"],"clientID":"b67590451a2c656bcbf1","clientSecret":"a85495f1e78a3a4fdfbb01752e214febaa4520d3","id":"2017-10-29T22:17:36+08:00","owner":"mrchi","repo":"mrchi.github.io","title":"Python-Markdown学习笔记"}},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"JTHYEW4WCB","algoliaIndex":"mrchi_cc","algoliaSearchKey":"18bcc6ccd70b36f665d79ff79e8c8918","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"},"twemoji":true};</script><script type="text/javascript" src="/js/theme.min.f51938f3065a40ee841bcb558e4330e31fd26c0ea55343fff8770b88b0319a3c.js" integrity="sha256-9Rk48wZaQO6EG8tVjkMw4x/SbA6lU0P/&#43;HcLiLAxmjw="></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-137477905-2', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-137477905-2" async></script></body>
</html>
